<template>
  <div class="cloudcontent" id="cloud_business_analysis">
    <div class="main">
      <el-form :model="addForm" class="proinfo_box" ref="addForm" :validate-on-rule-change="true">
        <el-row>
          <el-col :span="12">
            <el-form-item label="项目名称：">
              <span>山西省国新能源新厂扩建施工总承包项目</span>
            </el-form-item>
          </el-col>
          <el-col :span="12">
            <el-form-item label="项目编号：">
              <span>GY18ZB-08-01</span>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col :span="12">
            <el-form-item label="招标类型：">
              <span>工程/货物/服务</span>
            </el-form-item>
          </el-col>
          <el-col :span="12">
            <el-form-item label="所在地：">
              <span>山西省 太原市</span>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col :span="12">
            <el-form-item label="发布时间：">
              <span>2019-02-19</span>
            </el-form-item>
          </el-col>
          <el-col :span="12">
            <el-form-item label="报名截止时间：">
              <span>2019-03-20</span>
            </el-form-item>
          </el-col>
        </el-row>
      </el-form>
      <el-tabs class="detail_tab" v-model="activeName2" type="card" @tab-click="handleClick">
        <el-tab-pane label="比选公告" name="first">
          <div class="noticemain">
            <div class="fl">
              <editor ref="readueditor" class="ueditor" :content="content"></editor>
            </div>
            <div class="fr">
              <editor ref="ueditor" class="ueditor" :editread="editread" :content="content"></editor>
              <div class="submit-radio">
                <el-button type="primary">保存</el-button>
              </div>
            </div>
          </div>
        </el-tab-pane>
        <el-tab-pane label="招标业主分析" name="second">
          <el-collapse v-model="activeNames" @change="handleChange">
            <el-collapse-item title="业主基本信息" name="1">
              <div class="tabbox">
                <h3>山西省国新能源发展集团有限公司</h3>
                <el-form :model="addForm" ref="addForm" :validate-on-rule-change="true">
                  <el-row>
                    <el-col :span="12">
                      <el-form-item label="统一社会信用代码：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                    <el-col :span="12">
                      <el-form-item label="公司类型：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <el-row>
                    <el-col :span="12">
                      <el-form-item label="法定代表人：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                    <el-col :span="12">
                      <el-form-item label="成立时间：">
                        <el-date-picker type="date" placeholder="选择日期" v-model="addForm.date1" style="width: 100%;"></el-date-picker>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <el-row>
                    <el-col :span="12">
                      <el-form-item label="所在地：">
                        <el-cascader class=""
                                     expand-trigger="hover"
                                     :options="addressOptions"
                                     v-model="addForm.selectedCityOptions"
                                     @change="handleCityChange">
                        </el-cascader>
                      </el-form-item>
                    </el-col>
                    <el-col :span="12">
                      <el-form-item label="行业分类：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <el-row>
                    <el-col :span="12">
                      <el-form-item label="详细地址：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                    <el-col :span="12">
                      <el-form-item label="员工人数：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <el-row>
                    <el-col :span="12">
                      <el-form-item label="注册资本：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                    <el-col :span="12">
                      <el-form-item label="客户网址：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <el-row>
                    <el-col :span="12">
                      <el-form-item label="公司电话：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <el-row>
                    <el-col :span="24">
                      <el-form-item label="经营范围：">
                        <el-input type="textarea"  v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <div class="submit-radio">
                    <el-button type="primary">保存</el-button>
                  </div>
                </el-form>
              </div>
            </el-collapse-item>
            <el-collapse-item title="企业关系图谱" name="2">
              <div class="tabbox">
                <el-button  type="primary" class="edit" @click="dialogFormVisible = true"> 编辑</el-button>
                <div class="familyTree">
                  <div class="mainName">
                    <div class="list">
                      <i class="down" @click="show(1)" v-if="!showfirst"><img src="../../../../static/images/familytree/jiahao1.png"/> </i>
                      <i class="up" @click="hidden(1)" v-if="isShow && showfirst"><img src="../../../../static/images/familytree/jianhao1.png"/></i>
                      <ul v-show="isShow && showfirst">
                        <li>
                          <span><strong title="山西省国新能源发展集团有限公司">山西省国新能源发展集团有限公司</strong> <i>80%</i></span>
                          <em></em>
                        </li>
                        <li>
                          <span><strong title="山西省国新能源发展集团有限公司">山西省国新能源发展集团有限公司</strong> <i>80%</i></span>
                          <em></em>
                        </li>
                        <li>
                          <span><strong title="山西省国新能源发展集团有限公司">山西省国新能源发展集团有限公司</strong> <i>80%</i></span>
                          <em></em>
                        </li>
                      </ul>
                      <div class="right_whiteline"></div>
                    </div>
                    <span title="投资方 （93799 万元）">投资方 （93799 万元）</span>
                    <em><img src="../../../../static/images/familytree/jiantouarrow1.png"></em>
                    <span title="山西省国新能源发展集团有限公司" class="company">山西省国新能源发展集团有限公司</span>
                    <em><img src="../../../../static/images/familytree/jiantouarrow2.png"></em>
                    <span title="对外投资">对外投资</span>
                    <div class="list">
                      <i class="down" @click="show(2)" v-if="!showsecond"><img src="../../../../static/images/familytree/jiahao1.png"/> </i>
                      <i class="up" @click="hidden(2)" v-if="isShow && showsecond"><img src="../../../../static/images/familytree/jianhao1.png"/></i>
                      <ul v-show="isShow && showsecond">
                        <li>
                          <em></em>
                          <span title="山西省国新能源发展集团有限公司">山西省国新能源发展集团有限公司</span>
                        </li>
                        <li>
                          <em></em>
                          <span title="山西省国新能源发展集团有限公司">山西省国新能源发展集团有限公司</span>
                        </li>
                        <li>
                          <em></em>
                          <span title="山西省国新能源发展集团有限公司">山西省国新能源发展集团有限公司</span>
                        </li>
                      </ul>
                      <div class="left_whiteline"></div>
                    </div>
                  </div>
                  <div class="mainName_bot">
                    <span title="股东（10人）">股东（10人）
                      <i class="down" @click="show(3)" v-if="!showthird"><img src="../../../../static/images/familytree/jiahao2.png"/> </i>
                      <i class="up" @click="hidden(3)" v-if="isShow && showthird"><img src="../../../../static/images/familytree/jianhao2.png"/></i>
                      <em><img src="../../../../static/images/familytree/jiantouarrow3.png"></em>
                    </span>
                    <div class="list" v-show="isShow && showthird">
                      <ul>
                        <li>
                          <em></em>
                          <span><strong title="刘军">刘军</strong> <i>董事</i></span>
                        </li>
                        <li>
                          <em></em>
                          <span><strong title="陈明">陈明</strong> <i>董事</i></span>
                        </li>
                        <li>
                          <em></em>
                          <span><strong title="丁永军">丁永军</strong> <i>董事</i></span>
                        </li>
                      </ul>
                      <div class="left_whiteline"></div>
                    </div>
                    <span title="分支机构" class="jt">分支机构
                      <i class="down" @click="show(4)" v-if="!showfouth"><img src="../../../../static/images/familytree/jiahao2.png"/> </i>
                      <i class="up" @click="hidden(4)" v-if="isShow && showfouth"><img src="../../../../static/images/familytree/jianhao2.png"/></i>
                      <em><img src="../../../../static/images/familytree/jiantouarrow4.png"></em>
                    </span>
                    <div class="list" v-show="isShow && showfouth">
                      <ul>
                        <li>
                          <span title="山西省国新能源发展集团有限公司">山西省国新能源发展集团有限公司</span>
                          <em></em>
                        </li>
                        <li>
                          <span title="山西省国新能源发展集团有限公司">山西省国新能源发展集团有限公司</span>
                          <em></em>
                        </li>
                        <li>
                          <span title="山西省国新能源发展集团有限公司">山西省国新能源发展集团有限公司</span>
                          <em></em>
                        </li>
                      </ul>
                      <div class="right_whiteline"></div>
                    </div>
                  </div>
                </div>
              </div>
            </el-collapse-item>
            <el-collapse-item title="企业经营与财务状况" name="3">
              <div class="tabbox">
                <el-form>
                  <el-input type="textarea"  v-model="addForm.code"></el-input>
                  <div class="submit-radio">
                    <el-button type="primary">保存</el-button>
                  </div>
                </el-form>
              </div>
            </el-collapse-item>
            <el-collapse-item title="近三年合作代理机构名单" name="4">
              <div class="tabbox tabfour">
                <el-form :model="addForm" ref="addForm" :validate-on-rule-change="true">
                  <el-table
                    class="addcon"
                    :data="addForm.contactList"
                    border
                    style="width: 100%" header-cell-class-name="tableheader">
                    <el-table-column
                      type="index"
                      label="序号"
                      width="60"
                      align="center">
                    </el-table-column>
                    <el-table-column
                      label="代理机构名称"
                      show-overflow-tooltip>
                      <template slot-scope='scope'>
                        <el-form-item>
                          <el-input v-model="scope.row.name"></el-input>
                        </el-form-item>
                      </template>
                    </el-table-column>
                    <el-table-column
                      label="合作项目"
                      show-overflow-tooltip>
                      <template slot-scope='scope'>
                        <el-form-item>
                          <el-input v-model="scope.row.contact"></el-input>
                        </el-form-item>
                      </template>
                    </el-table-column>
                    <el-table-column
                      label="操作" align="center" width="100">
                      <template slot-scope="scope">
                        <el-button type="text" size="small" @click="delDataBtn(scope.$index)">删除</el-button>
                      </template>
                    </el-table-column>
                  </el-table>
                  <div class="addbutton"><span @click="addData">+ 新增</span></div>
                  <div class="submit-radio">
                    <el-button type="primary">保存</el-button>
                  </div>
                </el-form>
              </div>
            </el-collapse-item>
            <el-collapse-item title="其他参考数据" name="5">
              <div class="tabbox">
                <el-form :model="addForm" ref="addForm" label-width="200px" :validate-on-rule-change="true">
                  <el-row>
                    <el-col :span="12">
                      <el-form-item label="公开招标项目总数量：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                    <el-col :span="12">
                      <el-form-item label="合作服务机构数量：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <el-row>
                    <el-col :span="12">
                      <el-form-item label="公开招标项目可统计金额：">
                        <el-input v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <el-row>
                    <el-col :span="24">
                      <el-form-item label="招标人发布比选入围类似项目：">
                        <el-input type="textarea"  v-model="addForm.code"></el-input>
                      </el-form-item>
                    </el-col>
                  </el-row>
                  <div class="submit-radio">
                    <el-button type="primary">保存</el-button>
                  </div>
                </el-form>
              </div>
            </el-collapse-item>
          </el-collapse>
        </el-tab-pane>
        <el-tab-pane label="竞争对手分析" name="third">
          <div class="button_box">
            <el-button  type="primary" @click="dialogFormAddVisible = true"> + 添加竞争对手信息 </el-button>
          </div>
          <el-table
            :data="tableData"
            style="width: 100%">
            <el-table-column
              type="index"
              label="序号"
              width="60"
              :index='dataIndex'
              align="center">
            </el-table-column>
            <el-table-column
              prop="name"
              label="企业名称">
            </el-table-column>
            <el-table-column label="参与本业主项目情况">
              <el-table-column
                prop="name"
                label="项目数量">
              </el-table-column>
              <el-table-column
                prop="name"
                label="项目金额">
              </el-table-column>
            </el-table-column>
            <el-table-column
              prop="name"
              label="竞争力">
              <template slot-scope="scope">
                <el-rate v-model="scope.row.rate" disabled></el-rate>
              </template>
            </el-table-column>
            <el-table-column
              label="操作" align="center" width="200">
              <template slot-scope="scope">
                <el-button type="text" size="small" @click="dialogFormLookVisible = true">查看</el-button>
                <el-button type="text" size="small" @click="dialogFormEditVisible = true">修改</el-button>
                <el-button type="text" size="small">删除</el-button>
              </template>
            </el-table-column>
          </el-table>
        </el-tab-pane>
        <el-tab-pane label="项目整体分析" name="fourth">
          <div class="tabbox">
            <el-form :model="addForm" class="proinfo_box" ref="addForm" :validate-on-rule-change="true">
              <el-row>
                <el-col>
                  <el-form-item label="预测成功率：">
                    <el-input v-model="addForm.code"></el-input>
                  </el-form-item>
                </el-col>
              </el-row>
              <el-row>
                <el-col>
                  <el-form-item label="成功的关键因素：">
                    <el-input v-model="addForm.code"></el-input>
                  </el-form-item>
                </el-col>
              </el-row>
              <el-row>
                <el-col>
                  <el-form-item label="可能的失败因素：">
                    <el-input v-model="addForm.code"></el-input>
                  </el-form-item>
                </el-col>
              </el-row>
              <el-row>
                <el-col>
                  <el-form-item label="其他：">
                    <el-input type="textarea"  v-model="addForm.code"></el-input>
                  </el-form-item>
                </el-col>
              </el-row>
              <el-row>
                <el-col>
                  <el-form-item label="是否推进该项目：">
                    <el-radio  v-model="addForm.radio" label="推进">推进</el-radio>
                    <el-radio  v-model="addForm.radio" label="暂不推进">暂不推进</el-radio>
                    <el-radio  v-model="addForm.radio" label="放弃">放弃</el-radio>
                  </el-form-item>
                </el-col>
              </el-row>
            </el-form>
            <div class="submit-radio">
              <el-button type="primary">保存</el-button>
            </div>
          </div>
        </el-tab-pane>
      </el-tabs>
    </div>
    <!--弹窗  编辑企业族谱-->
    <el-dialog title="企业关系图谱" :visible.sync="dialogFormVisible">
      <el-form :model="form">
        <el-tabs v-model="activeName" @tab-click="handleClick">
          <el-tab-pane label="投资方" name="first">
            <el-table
              class="addcon"
              :data="addForm.contactList"
              border
              style="width: 100%" header-cell-class-name="tableheader">
              <el-table-column
                type="index"
                label="序号"
                width="60"
                align="center">
              </el-table-column>
              <el-table-column
                label="投资方"
                show-overflow-tooltip>
                <template slot-scope='scope'>
                  <el-form-item>
                    <el-input v-model="scope.row.name"></el-input>
                  </el-form-item>
                </template>
              </el-table-column>
              <el-table-column
                label="投资金额（万元）"
                show-overflow-tooltip>
                <template slot-scope='scope'>
                  <el-form-item>
                    <el-input v-model="scope.row.contact"></el-input>
                  </el-form-item>
                </template>
              </el-table-column>
              <el-table-column
                label="占比（%）"
                show-overflow-tooltip>
                <template slot-scope='scope'>
                  <el-form-item>
                    <el-input v-model="scope.row.contact"></el-input>
                  </el-form-item>
                </template>
              </el-table-column>
              <el-table-column
                label="操作" align="center" width="100">
                <template slot-scope="scope">
                  <el-button type="text" size="small" @click="delDataBtn(scope.$index)">删除</el-button>
                </template>
              </el-table-column>
            </el-table>
            <div class="addbutton"><span @click="addData">+ 新增</span></div>
          </el-tab-pane>
          <el-tab-pane label="股东" name="second">
            <el-table
              class="addcon"
              :data="addForm.contactList"
              border
              style="width: 100%" header-cell-class-name="tableheader">
              <el-table-column
                type="index"
                label="序号"
                width="60"
                align="center">
              </el-table-column>
              <el-table-column
                label="股东"
                show-overflow-tooltip>
                <template slot-scope='scope'>
                  <el-form-item>
                    <el-input v-model="scope.row.name"></el-input>
                  </el-form-item>
                </template>
              </el-table-column>
              <el-table-column
                label="职务"
                show-overflow-tooltip>
                <template slot-scope='scope'>
                  <el-form-item>
                    <el-input v-model="scope.row.contact"></el-input>
                  </el-form-item>
                </template>
              </el-table-column>
              <el-table-column
                label="操作" align="center" width="100">
                <template slot-scope="scope">
                  <el-button type="text" size="small" @click="delDataBtn(scope.$index)">删除</el-button>
                </template>
              </el-table-column>
            </el-table>
            <div class="addbutton"><span @click="addData">+ 新增</span></div>
          </el-tab-pane>
          <el-tab-pane label="分支机构" name="third">
            <el-table
              class="addcon"
              :data="addForm.contactList"
              border
              style="width: 100%" header-cell-class-name="tableheader">
              <el-table-column
                type="index"
                label="序号"
                width="60"
                align="center">
              </el-table-column>
              <el-table-column
                label="分支机构"
                show-overflow-tooltip>
                <template slot-scope='scope'>
                  <el-form-item>
                    <el-input v-model="scope.row.name"></el-input>
                  </el-form-item>
                </template>
              </el-table-column>
              <el-table-column
                label="操作" align="center" width="100">
                <template slot-scope="scope">
                  <el-button type="text" size="small" @click="delDataBtn(scope.$index)">删除</el-button>
                </template>
              </el-table-column>
            </el-table>
            <div class="addbutton"><span @click="addData">+ 新增</span></div>
          </el-tab-pane>
          <el-tab-pane label="对外投资" name="fourth">
            <el-table
              class="addcon"
              :data="addForm.contactList"
              border
              style="width: 100%" header-cell-class-name="tableheader">
              <el-table-column
                type="index"
                label="序号"
                width="60"
                align="center">
              </el-table-column>
              <el-table-column
                label="对外投资"
                show-overflow-tooltip>
                <template slot-scope='scope'>
                  <el-form-item>
                    <el-input v-model="scope.row.name"></el-input>
                  </el-form-item>
                </template>
              </el-table-column>
              <el-table-column
                label="操作" align="center" width="100">
                <template slot-scope="scope">
                  <el-button type="text" size="small" @click="delDataBtn(scope.$index)">删除</el-button>
                </template>
              </el-table-column>
            </el-table>
            <div class="addbutton"><span @click="addData">+ 新增</span></div>
          </el-tab-pane>
        </el-tabs>
      </el-form>
      <div slot="footer" class="dialog-footer">
        <el-button type="primary" @click="dialogFormVisible = false">保 存</el-button>
        <el-button @click="dialogFormVisible = false">取 消</el-button>
      </div>
    </el-dialog>
    <!--弹窗  编辑企业族谱-->
    <!--弹窗  竞争对手分析 编辑 -->
    <el-dialog title="新增竞争对手" :visible.sync="dialogFormEditVisible">
      <el-form :model="addForm" label-width="170px">
        <el-row>
          <el-col>
            <el-form-item label="企业名称：">
              <el-input v-model="addForm.code"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="竞争力：">
              <el-rate v-model="addForm.rate"
                       show-score
                       text-color="#ff9900"
                       score-template="{value}">
              </el-rate>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="工商信息：">
              <el-input v-model="addForm.code" type="textarea"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="分支机构：">
              <el-input v-model="addForm.code" type="textarea"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="主要成员及股东名单：">
              <el-input v-model="addForm.code" type="textarea"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="企业资质等级：">
              <el-cascader
                :options="options"
                v-model="selectedOptions"
                @change="handleChange">
              </el-cascader>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="近一年承接项目情况：">
              <el-table
                :data="tableData"
                border
                style="width: 100%" header-cell-class-name="tableheader">
                <el-table-column
                  type="index"
                  label="序号"
                  width="60"
                  align="center">
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目名称"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目金额"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  label="操作" align="center" width="80px">
                  <template slot-scope="scope">
                    <el-button type="text" size="small" @click="logoff(scope.row.objectId)">删除</el-button>
                  </template>
                </el-table-column>
              </el-table>
              <div class="addbutton"><span @click="addData">+ 新增</span></div>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="承接本招标人项目情况：">
              <el-table
                :data="tableData"
                border
                style="width: 100%" header-cell-class-name="tableheader">
                <el-table-column
                  type="index"
                  label="序号"
                  width="60"
                  align="center">
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目名称"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目金额"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  label="操作" align="center" width="80px">
                  <template slot-scope="scope">
                    <el-button type="text" size="small" @click="logoff(scope.row.objectId)">删除</el-button>
                  </template>
                </el-table-column>
              </el-table>
              <div class="addbutton"><span @click="addData">+ 新增</span></div>
            </el-form-item>
          </el-col>
        </el-row>
      </el-form>
      <div slot="footer" class="dialog-footer">
        <el-button type="primary" @click="dialogFormAddVisible = false">保 存</el-button>
        <el-button @click="dialogFormAddVisible = false">取 消</el-button>
      </div>
    </el-dialog>
    <!--弹窗  竞争对手分析  修改-->
    <!--弹窗  竞争对手分析  修改-->
    <el-dialog title="修改竞争对手" :visible.sync="dialogFormAddVisible">
      <el-form :model="addForm" label-width="170px">
        <el-row>
          <el-col>
            <el-form-item label="企业名称：">
              <el-input v-model="addForm.code"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="竞争力：">
              <el-rate v-model="addForm.rate"
                       show-score
                       text-color="#ff9900"
                       score-template="{value}">
              </el-rate>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="工商信息：">
              <el-input v-model="addForm.code" type="textarea"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="分支机构：">
              <el-input v-model="addForm.code" type="textarea"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="主要成员及股东名单：">
              <el-input v-model="addForm.code" type="textarea"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="企业资质等级：">
              <el-cascader
                :options="options"
                v-model="selectedOptions"
                @change="handleChange">
              </el-cascader>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="近一年承接项目情况：">
              <el-table
                :data="tableData"
                border
                style="width: 100%" header-cell-class-name="tableheader">
                <el-table-column
                  type="index"
                  label="序号"
                  width="60"
                  align="center">
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目名称"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目金额"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  label="操作" align="center" width="80px">
                  <template slot-scope="scope">
                    <el-button type="text" size="small" @click="logoff(scope.row.objectId)">删除</el-button>
                  </template>
                </el-table-column>
              </el-table>
              <div class="addbutton"><span @click="addData">+ 新增</span></div>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="承接本招标人项目情况：">
              <el-table
                :data="tableData"
                border
                style="width: 100%" header-cell-class-name="tableheader">
                <el-table-column
                  type="index"
                  label="序号"
                  width="60"
                  align="center">
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目名称"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目金额"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  label="操作" align="center" width="80px">
                  <template slot-scope="scope">
                    <el-button type="text" size="small" @click="logoff(scope.row.objectId)">删除</el-button>
                  </template>
                </el-table-column>
              </el-table>
              <div class="addbutton"><span @click="addData">+ 新增</span></div>
            </el-form-item>
          </el-col>
        </el-row>
      </el-form>
      <div slot="footer" class="dialog-footer">
        <el-button type="primary" @click="dialogFormAddVisible = false">保 存</el-button>
        <el-button @click="dialogFormAddVisible = false">取 消</el-button>
      </div>
    </el-dialog>
    <!--弹窗  竞争对手分析 编辑 修改-->
    <!--弹窗  竞争对手分析 查看-->
    <el-dialog title="查看竞争对手" :visible.sync="dialogFormLookVisible">
      <el-form :model="addForm" label-width="170px">
        <el-row>
          <el-col>
            <el-form-item label="企业名称：">
              <el-input v-model="addForm.code"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="竞争力：">
              <el-rate v-model="addForm.rate"
                       show-score
                       disabled
                       text-color="#ff9900"
                       score-template="{value}">
              </el-rate>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="工商信息：">
              <el-input v-model="addForm.code" type="textarea"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="分支机构：">
              <el-input v-model="addForm.code" type="textarea"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="主要成员及股东名单：">
              <el-input v-model="addForm.code" type="textarea"></el-input>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="企业资质等级：">
              <el-cascader
                :options="options"
                v-model="selectedOptions"
                @change="handleChange">
              </el-cascader>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="近一年承接项目情况：">
              <el-table
                :data="tableData"
                border
                style="width: 100%" header-cell-class-name="tableheader">
                <el-table-column
                  type="index"
                  label="序号"
                  width="60"
                  align="center">
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目名称"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目金额"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
              </el-table>
            </el-form-item>
          </el-col>
        </el-row>
        <el-row>
          <el-col>
            <el-form-item label="承接本招标人项目情况：">
              <el-table
                :data="tableData"
                border
                style="width: 100%" header-cell-class-name="tableheader">
                <el-table-column
                  type="index"
                  label="序号"
                  width="60"
                  align="center">
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目名称"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
                <el-table-column
                  prop="projectName"
                  label="项目金额"
                  :formatter="simpleFormatData"
                  show-overflow-tooltip>
                </el-table-column>
              </el-table>
            </el-form-item>
          </el-col>
        </el-row>
      </el-form>
      <div slot="footer" class="dialog-footer">
        <el-button type="primary" @click="dialogFormLookVisible = false">保 存</el-button>
        <el-button @click="dialogFormLookVisible = false">取 消</el-button>
      </div>
    </el-dialog>
    <!--弹窗  竞争对手分析 查看-->
  </div>
</template>
<script>
import editor from '@/components/ueditor/ueditor.vue'
import * as region from '@/assets/js/region'
export default {
  components: {
    editor
  },
  data () {
    return {
      addForm: {
        contactList: [],
        radio: '1'
      },
      activeName2: 'first',
      activeNames: '1',
      // 地址三级联动
      addressOptions: region.CityInfo,
      selectedcityOptions: [],
      // 富文本编辑器
      editread: false,
      content: '',
      // 企业族谱 显示隐藏
      isShow: false,
      showfirst: false,
      showsecond: false,
      showthird: false,
      showfouth: false,
      activeName: 'first',
      dialogFormVisible: false,
      // 竞争对手分析
      tableData: [
        {
          name: '首都华盛顿和阿萨德稍等哈',
          rate: 4
        }
      ],
      dialogFormAddVisible: false,
      selectedOptions: [],
      dialogFormLookVisible: false,
      dialogFormEditVisible: false
    }
  },
  methods: {
    addData () {
      this.addForm.contactList.push({
        name: '',
        contact: ''
      })
    },
    handleCityChange () {},
    dataIndex () {},
    change () {},
    handleClick () {},
    handleChange () {},
    delDataBtn () {},
    show (val) {
      console.log(val)
      console.log('11111' + this.isShow)
      this.isShow = true
      switch (val) {
        case 1:
          this.showfirst = true
          break
        case 2:
          this.showsecond = true
          break
        case 3:
          this.showthird = true
          break
        case 4:
          this.showfouth = true
          break
      }
      console.log('22222' + this.isShow)
      console.log('1' + this.showfirst)
      console.log('2' + this.showsecond)
      console.log('3' + this.showthird)
      console.log('4' + this.showfouth)
    },
    hidden (val) {
      switch (val) {
        case 1:
          this.showfirst = false
          break
        case 2:
          this.showsecond = false
          break
        case 3:
          this.showthird = false
          break
        case 4:
          this.showfouth = false
          break
      }
    }
  },
  mounted () {
  }
}
</script>
<style lang="less">
  #cloud_business_analysis {
    .el-rate{
      height: 40px;
      line-height: 40px;
    }
    .addbutton{
      width: 100%;
      margin-top: 10px;
      height: 52px;
      line-height: 52px;
      text-align: center;
      border: 1px dashed #d2d2d2;
      color: #d2d2d2;
      background: #ffffff;
      font-weight: bold;
      cursor: pointer;
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
    }
    .addbutton:hover{
      border: 1px dashed #34abff;
      color: #34abff;
    }
  }
</style>
